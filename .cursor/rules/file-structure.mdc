---
alwaysApply: true
---

# File Structure Conventions

## Root Source Structure

```
src/
├── components/     # Shared/global components
├── env/            # Environment variables (client/server split)
├── hooks/          # Global custom hooks
├── routes/         # TanStack Router file-based routing
└── utils/          # Shared utility functions
```

---

## Component Structure

All components in `src/components/` follow a consistent folder structure:

```
components/
└── my-component/
    ├── MyComponent.tsx      # Main component file (PascalCase)
    ├── index.ts             # Barrel export
    ├── types.ts             # Type definitions (optional)
    ├── consts.ts            # Constants (optional)
```

### Rules

- **Folder naming**: kebab-case (`dropdown-menu/`, `side-nav/`)
- **Component files**: PascalCase (`DropdownMenu.tsx`)
- **Barrel exports**: Always provide `index.ts` that re-exports the component and types

### Barrel Export Example

```typescript
// index.ts
export { MyComponent } from './MyComponent'
export type { MyComponentProps } from './types'
```

---

## Routes Structure (TanStack Router)

### Special File/Folder Prefixes

| Prefix | Purpose                     | Example           |
| ------ | --------------------------- | ----------------- |
| `__`   | Root layout                 | `__root.tsx`      |
| `_`    | Layout route (pathless)     | `_authenticated/` |
| `$`    | Dynamic segment             | `$eventId/`       |
| `-`    | Non-route (co-located code) | `-lib/`           |

### Route File Types

- `route.tsx` - Route configuration (loaders, params validation, beforeLoad)
- `index.tsx` - Page component for that route segment

### The `-lib/` Pattern

Use `-lib/` folders to co-locate feature-specific code with routes. The hyphen prefix tells TanStack Router to ignore this folder for routing.

```
routes/feature/
├── -lib/
│   ├── components/          # Feature-scoped components
│   │   └── my-component/
│   │       ├── MyComponent.tsx
│   │       ├── index.ts
│   │       └── types.ts
│   ├── hooks/               # Feature-scoped hooks
│   │   └── use-my-hook/
│   │       ├── useMyHook.ts
│   │       ├── consts.ts
│   │       └── index.ts
│   ├── utils/               # Feature-scoped utilities
│   │   └── date-utils/
│   │       ├── dateUtils.ts
│   │       └── index.ts
│   ├── consts.ts            # Route-level constants
│   └── types.ts             # Route-level types
├── route.tsx                # Route config
└── index.tsx                # Page component
```

### Subfolder Pattern

`components/`, `hooks/`, and `utils/` inside `-lib/` all follow the same structure:

1. Each item gets its own **kebab-case** subfolder
2. Main file uses **camelCase** (hooks/utils) or **PascalCase** (components)
3. Always include `index.ts` barrel export
4. Add `types.ts`, `consts.ts` as needed

### Nesting Components

Components can be nested within other component folders for tightly coupled sub-components:

```
-lib/components/
└── add-event-modal/
    ├── AddEventModal.tsx            # Only component at root (matches folder name)
    ├── index.ts
    ├── types.ts
    └── sub-components/              # ALL other components go here
        ├── add-event-modal-form/
        │   ├── AddEventModalForm.tsx
        │   └── index.ts
        ├── basic-information-section/
        │   ├── BasicInformationSection.tsx
        │   └── index.ts
        └── dates-location-section/
            ├── DatesLocationSection.tsx
            └── index.ts
```

**Rules**:

- The only `.tsx` component file allowed at the root of a component folder is the main component matching the folder name
- All other components must be placed inside `sub-components/`
- **`sub-components/` must be flat (single level only)** - no nested `sub-components/` folders inside sub-components
- **Sub-component names must include their parent's name as prefix** (e.g., `events-list-pagination-button/` not just `pagination-button/`)

---

## Naming Conventions

| Type           | Convention               | Example                                      |
| -------------- | ------------------------ | -------------------------------------------- |
| Folders        | kebab-case               | `event-card/`, `use-my-hook/`, `date-utils/` |
| Components     | PascalCase               | `EventCard.tsx`                              |
| Hooks          | camelCase + `use` prefix | `useAddHotelsSearch.ts`                      |
| Utilities      | camelCase                | `dateUtils.ts`                               |
| Types file     | lowercase                | `types.ts`                                   |
| Constants file | lowercase                | `consts.ts`, `consts.tsx`                    |

---